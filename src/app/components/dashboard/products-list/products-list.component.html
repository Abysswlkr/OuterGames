
<mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
<div class="body">
  <span class="title">PRODUCTS MANAGEMENT</span>
  <mat-form-field>
    <mat-label>Filter</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Ex. CD Projekt" #input>
  </mat-form-field>
  <button mat-raised-button class="button-new" color="primary" routerLink="/dashboard/create-product">NEW</button>
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" *ngIf="!loading">

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let element"> {{element.title}} </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let element"> {{element.description}} </td>
      </ng-container>

      <ng-container matColumnDef="genre">
        <th mat-header-cell *matHeaderCellDef> Genre </th>
        <td mat-cell *matCellDef="let element"> {{element.genre}} </td>
      </ng-container>

      <ng-container matColumnDef="platform">
        <th mat-header-cell *matHeaderCellDef > Platform </th>
        <td mat-cell *matCellDef="let element"> {{element.platform}} </td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef > Price </th>
        <td mat-cell *matCellDef="let element">${{element.price}} </td>
      </ng-container>

      <ng-container matColumnDef="releaseDate">
        <th mat-header-cell *matHeaderCellDef > Release Date </th>
        <td mat-cell *matCellDef="let element"> {{element.releaseDate}} </td>
      </ng-container>

      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef> Image </th>
        <td mat-cell *matCellDef="let element"> {{element.imageUrl}} </td>
      </ng-container>

      <ng-container matColumnDef="isOnSale">
        <th mat-header-cell *matHeaderCellDef> is on Sale? </th>
        <td mat-cell *matCellDef="let element"> {{element.isOnSale}} </td>
      </ng-container>

      <ng-container matColumnDef="options">
        <th mat-header-cell *matHeaderCellDef> Options </th>
        <td mat-cell *matCellDef="let element"> 
          <a><mat-icon  [routerLink]="['/dashboard/edit-product', element._id]" fontIcon="edit_document"></mat-icon></a>
          <a><mat-icon (click)="deleteGame(element._id)" fontIcon="delete"></mat-icon></a>
        </td>
      </ng-container>

      

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="5">No data matching the filter "{{input.value}}"</td>
        </tr> 
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
</div>
</div>